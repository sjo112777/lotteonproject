<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8"/>
  <title>[[${config.getSite().getTitle()}]] - [[${config.getSite().getSubtitle()}]]</title>
  <link rel="stylesheet" href="/style/init.css"/>
  <link rel="stylesheet" href="/style/index.css"/>
  <link rel="stylesheet" href="/style/product/aside.css">
  <link rel="stylesheet" href="/style/common/header.css"/>
  <link rel="stylesheet" href="/style/common/footer.css"/>
  <link rel="stylesheet" href="/style/common/pagination.css"/>
  <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.14.1/themes/base/jquery-ui.css"
  />
  <link
      rel="icon"
      type="image/png"
      th:href="@{${config.getLogo().getFaviconLocation()}}"
  />
  <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
  <script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
  <script
      src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/js/all.min.js"
      crossorigin="anonymous"
  ></script>
  <script src="/js/index.js"></script>
  <script src="/js/common/header.js"></script>
  <script src="/js/common/footer.js"></script>
</head>
<body>
<div id="wrapper">
  <div id="MAIN-area">
    <div id="MAIN" th:if="${mainBanner != null}"
         th:style="'background-color:' + ${mainBanner.getBannerInfo().getBackgroundColor()} + ';'">
      <a th:href="${mainBanner.getBannerInfo().getUrl()}" target="_blank">
        <img th:src="@{${mainBanner.getLocation()}}" class="main-banner-img"/>
      </a>
    </div>
  </div>
  <th:block th:insert="~{/common/header}"></th:block>
  <main>
    <!-- ìŠ¬ë¼ì´ë“œ ë°°ë„ˆ ì˜ì—­ -->
    <div class="slider-container">
      <div class="slider-track">
        <img src="/images/banner1.PNG" alt="ë°°ë„ˆ1"/>
        <img src="/images/banner2.PNG" alt="ë°°ë„ˆ2"/>
        <img src="/images/banner3.PNG" alt="ë°°ë„ˆ3"/>
        <img src="/images/banner4.PNG" alt="ë°°ë„ˆ4"/>
        <img src="/images/banner5.PNG" alt="ë°°ë„ˆ5"/>
      </div>
<!--    </div>-->
    </div>
      <section class="best-products">
        <h2>ë² ìŠ¤íŠ¸ ìƒí’ˆ</h2>
        <div class="product-grid">
          <div th:each="product : ${bestProducts}" class="product-card">
            <!-- ì‹¤ì œ ì´ë¯¸ì§€ ê²½ë¡œ ì‚¬ìš© ì‹œ -->
            <a th:href="@{/product/detail(id=${product.id})}">
              <img th:src="@{${product.image.listThumbnailLocation}}" alt="ì´ë¯¸ì§€" />
            </a>
            <a th:href="@{/product/detail(id=${product.id})}">
              <h4 th:text="${product.name}"></h4>
            </a>
            <p th:text="${product.description}"></p>

            <div class="price">
              <span class="discount" th:text="${product.discountRate + '%'}"></span>
              <span class="original" style="text-decoration:line-through; color:gray;"
                    th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + 'ì›'}"></span>
              <span class="final" style="color:red; font-weight:bold;"
                    th:text="${#numbers.formatInteger(product.price * (100 - product.discountRate) / 100, 3, 'COMMA') + 'ì›'}"></span>
            </div>
          </div>
        </div>
      </section>

      <!-- í• ì¸ìƒí’ˆ -->
      <section>
        <div class="product-list-wrapper">
          <h2>ğŸŒŸ í• ì¸ìƒí’ˆ</h2>

          <div class="product-list">
            <div th:each="product : ${discountProducts}" class="product-card">
              <a th:href="@{/product/detail(id=${product.id})}">
                <img th:src="@{${product.image.listThumbnailLocation}}" alt="ì´ë¯¸ì§€" />
              </a>
              <a th:href="@{/product/detail(id=${product.id})}">
                <h4 th:text="${product.name}"></h4>
              </a>
              <p>
          <span style="text-decoration: line-through; color: gray;"
                th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + 'ì›'}">
          </span>
                <br />
                <span style="color: red; font-weight: bold;"
                      th:text="${#numbers.formatInteger(product.price * (100 - product.discountRate) / 100, 3, 'COMMA') + 'ì›'}">
          </span>
                <br />
                <span th:text="${product.discountRate + '% í• ì¸'}"></span>
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- íˆíŠ¸ìƒí’ˆ -->
    <section>
      <div class="product-list-wrapper">
        <h2>ğŸ”¥ íˆíŠ¸ìƒí’ˆ</h2>
        <div class="product-list">
          <div th:each="product : ${hitProducts}" class="product-card">
            <a th:href="@{/product/detail(id=${product.id})}">
              <img th:src="@{${product.image.listThumbnailLocation}}" alt="ì´ë¯¸ì§€" />
            </a>
            <a th:href="@{/product/detail(id=${product.id})}">
              <h4 th:text="${product.name}"></h4>
            </a>
            <p>
          <span th:if="${product.discountRate > 0}" style="text-decoration: line-through; color: gray;"
                th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + 'ì›'}">
          </span>
              <br th:if="${product.discountRate > 0}" />
              <span style="color: red; font-weight: bold;"
                    th:text="${#numbers.formatInteger(product.price * (100 - product.discountRate) / 100, 3, 'COMMA') + 'ì›'}">
          </span>
              <br th:if="${product.discountRate > 0}" />
              <span th:if="${product.discountRate > 0}"
                    th:text="${product.discountRate + '% í• ì¸'}"
                    style="color: orange; font-size: 12px;">
          </span>
            </p>
          </div>
        </div>
      </div>
    </section>

      <!-- ì¶”ê°€ ì¶”ì²œìƒí’ˆ -->
      <section>
        <div class="product-list-wrapper">
          <h2>ğŸŒŸ ì¶”ì²œìƒí’ˆ</h2>
          <div class="product-list">
            <div th:each="product : ${recommendedProducts}" class="product-card">
              <a th:href="@{/product/detail(id=${product.id})}">
                <img th:src="@{${product.image.listThumbnailLocation}}" alt="ì´ë¯¸ì§€" />
              </a>
              <a th:href="@{/product/detail(id=${product.id})}">
                <h4 th:text="${product.name}"></h4>
              </a>
              <p>
          <span th:if="${product.discountRate > 0}" style="text-decoration: line-through; color: gray;"
                th:text="${#numbers.formatInteger(product.price, 3, 'COMMA') + 'ì›'}">
          </span>
                <br th:if="${product.discountRate > 0}" />
                <span style="color: red; font-weight: bold;"
                      th:text="${#numbers.formatInteger(product.price * (100 - product.discountRate) / 100, 3, 'COMMA') + 'ì›'}">
          </span>
                <br th:if="${product.discountRate > 0}" />
                <span th:if="${product.discountRate > 0}"
                      th:text="${product.discountRate + '% í• ì¸'}"
                      style="color: orange; font-size: 12px;">
          </span>
              </p>
            </div>
          </div>
        </div>
      </section>
  </main>
  <th:block th:insert="~{/common/footer}"></th:block>
</div>
</body>
</html>
<script>
  const track = document.querySelector('.slider-track');
  const slides = document.querySelectorAll('.slider-track img');
  let currentIndex = 0;

  setInterval(() => {
    currentIndex = (currentIndex + 1) % slides.length;
    track.style.transform = `translateX(-${currentIndex * 100}%)`;
  }, 3000); // 3ì´ˆë§ˆë‹¤ ìŠ¬ë¼ì´ë“œ ì „í™˜
</script>
